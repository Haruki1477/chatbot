<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>ãƒ‹ãƒ¥ãƒ¼ã‚¹æ¤œç´¢ã‚¢ãƒ—ãƒª</title>
    <style>
        body { font-family: sans-serif; margin: 30px; }
        h1 { color: #444; }
        .search-form input[type="text"] {
            padding: 5px;
            width: 300px;
        }
        .search-form select {
            padding: 5px;
        }
        .search-form button {
            padding: 5px 10px;
        }
        .article {
            margin-bottom: 30px;
            border-bottom: 1px solid #ccc;
            padding-bottom: 10px;
        }
        .pagination {
            margin-top: 20px;
        }
        .pagination a {
            margin: 0 10px;
            text-decoration: none;
            color: blue;
        }
    </style>
    <!-- 30ç§’ã”ã¨ã«è‡ªå‹•æ›´æ–° -->
<meta http-equiv="refresh" content="30">

</head>
<body>
    <h1>ğŸ“° æ—¥æœ¬èªãƒ‹ãƒ¥ãƒ¼ã‚¹æ¤œç´¢</h1>
    <form class="search-form" method="get" action="/">
        <input type="text" name="q" value="{{ query }}" placeholder="ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ï¼ˆä¾‹: AI, çµŒæ¸ˆï¼‰">
        <select name="category">
            <option value="">-- ã‚«ãƒ†ã‚´ãƒªé¸æŠ --</option>
            <option value="ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼" {% if category == 'ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼' %}selected{% endif %}>ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼</option>
            <option value="çµŒæ¸ˆ" {% if category == 'çµŒæ¸ˆ' %}selected{% endif %}>çµŒæ¸ˆ</option>
            <option value="ã‚¹ãƒãƒ¼ãƒ„" {% if category == 'ã‚¹ãƒãƒ¼ãƒ„' %}selected{% endif %}>ã‚¹ãƒãƒ¼ãƒ„</option>
            <option value="ã‚¨ãƒ³ã‚¿ãƒ¡" {% if category == 'ã‚¨ãƒ³ã‚¿ãƒ¡' %}selected{% endif %}>ã‚¨ãƒ³ã‚¿ãƒ¡</option>
            <option value="äº‹ä»¶" {% if category == 'äº‹ä»¶' %}selected{% endif %}>äº‹ä»¶</option>
            <option value="èŠ¸èƒ½" {% if category == 'èŠ¸èƒ½' %}selected{% endif %}>èŠ¸èƒ½</option>
        </select>        
        <button type="submit">æ¤œç´¢</button>
    </form>

    {% if articles %}
        {% for article in articles %}
            <div class="article">
                <h3>{{ article.title }}</h3>
                <p>{{ article.description }}</p>
                <a href="{{ article.url }}" target="_blank">â–¶ è¨˜äº‹ã‚’èª­ã‚€</a>
            </div>
        {% endfor %}
    {% else %}
        <p>è©²å½“ã™ã‚‹ãƒ‹ãƒ¥ãƒ¼ã‚¹ã¯è¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚</p>
    {% endif %}

    <div class="pagination">
        {% if page > 1 %}
            <a href="/?q={{ query }}&category={{ category }}&page={{ page - 1 }}">â† å‰ã¸</a>
        {% endif %}
        <span>Page {{ page }}</span>
        {% if articles|length >= 5 %}
            <a href="/?q={{ query }}&category={{ category }}&page={{ page + 1 }}">æ¬¡ã¸ â†’</a>
        {% endif %}
    </div>
</body>
</html>
